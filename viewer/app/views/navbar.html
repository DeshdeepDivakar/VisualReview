<!--
  ~ Copyright 2015 Xebia B.V.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License")
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<div class="position-fixed-top-left size-full-width z-index-top" style="box-shadow: 0 2px 4px 0;">
  <div class="flexbox-row-container flexbox-row-nowrap size-height-navbar" style="width: 100%;">

    <div class="flexbox-row-item" style="flex-grow: 1;">

      <div class="flexbox-row-container size-full-width">
        <div class="flexbox-row-item flexbox-row-item-grow-1 flexbox-row-item-center background-light" style="flex-grow: 1"> <!-- display: flex; flex-grow: 1; background-color:white; align-items: center;" -->
          <div class="icon-vr-diamond color-purple font-size-medium padding-left-4 padding-right-4"></div>
          <div class="font-size-small">
            <div class="ellipsis-container size-max-width-1 padding-bottom-05 padding-right-1" style="flex-grow: 0"
                 ng-show="projectId">
              <i><a href="#/{{projectId}}/">{{projectName}}</a></i>
              <span ng-show="suiteName"> > <i><a href="#/{{projectId}}/{{suiteId}}">{{suiteName}}</a></i></span>
              <span ng-show="creationTime"> > <i><a href="#/{{projectId}}/{{suiteId}}/{{runId}}">{{runId }} ({{creationTime | date : 'MMM d, y \'at\' h:mma' }})</a></i></span>
            </div>
            <div class="ellipsis-container size-max-width-1 padding-right-2" ng-show="screenshot">
              <i><b>show: </b> <a href="#">all </a></i>
            </div>
          </div>
        </div>
        <div vr-dropdown-contents="screenshotSelector">
          <table style="border-collapse: collapse;">
            <tr ng-repeat="aShot in screenshots" class="padding-2 cursor-pointer gray-on-hover"
                ng-class="{'font-type-semibold': aShot === screenshot}"
                ng-click="selectScreenshot($index)">
              <td class="padding-2">
                <span class="icon-{{aShot.status | lowercase}}"></span>
              </td>
              <td class="padding-2">
                {{aShot.before.screenshotName}}
              </td>
              <td class="padding-2">
                <span screenshot-metadata meta="aShot.before.meta" properties="aShot.before.properties"></span>
              </td>
            </tr>

          </table>
        </div>
        <div class="flexbox-row-item flexbox-row-item-center" screenshot-status-background="screenshot.status" ng-show="screenshot">
          <div vr-dropdown-toggle="screenshotStatusButton">
            <div class="padding-left-2 padding-right-2 cursor-pointer">
              <div class="font-size-extra-large icon-{{screenshot.status | lowercase}}">
              </div>
            </div>
            <div vr-dropdown-contents="screenshotStatusButton">
              <div ng-repeat="otherStatus in ['pending', 'accepted', 'rejected']" class="cursor-pointer">
                <div ng-click="setStatus(otherStatus)" vr-dropdown-toggle="screenshotStatusButton" class="padding-2 font-size-extra-large icon-{{otherStatus | lowercase}}" screenshot-status-background="otherStatus">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="flexbox-row-item flexbox-row-item-center flexbox-row-item-content-center cursor-pointer" style="flex-grow: 0; justify-content: center; max-width: 800px; min-width: 200px;"
         screenshot-status-background="screenshot.status" vr-dropdown-toggle="screenshotSelector" ng-show="screenshot">
      <div class="ellipsis-container padding-left-2 padding-right-2 font-type-semibold font-size-large flexbox-row-item-content-center">
        {{screenshot.before.screenshotName}}
      </div>
    </div>

    <div class="flexbox-row-item background-light " style="flex-grow: 1;">
      <div class="flexbox-row-container size-full-width" vr-dropdown-toggle="screenshotSelector">
        <div class="flexbox-row-item flexbox-row-item-center" screenshot-status-background="screenshot.status" style="cursor: pointer;">
          <div class="padding-left-2 padding-right-2 ellipsis-container">
            <span screenshot-metadata meta="screenshot.before.meta" properties="screenshot.before.properties"></span>
          </div>
        </div>
        <div class="flexbox-row-item flexbox-row-item-center padding-left-2 padding-right-2 nowrap-container font-size-small" style="flex-grow: 1; justify-content:flex-end;"
             ng-show="screenshot">
          <div>
            <input type="radio" id="radio-baseline" name="imageVersionDisplay" value="before" ng-model="screenshotType">
            <label for="radio-baseline" class="unselectable">baseline</label>
          </div>
          <div>
            <input type="radio" id="radio-actual" name="imageVersionDisplay" value="after" ng-model="screenshotType" >
            <label for="radio-actual" class="navbar-image-controls-space unselectable">actual</label>
          </div>
          <div class="navbar-image-controls-separator"></div>
          <div>
            <input type="checkbox" id="checkbox-difference" name="imageDifferenceDisplay" ng-model="showDiff">
            <label for="checkbox-difference" class="unselectable">show diff ({{screenshot.percentage}} %)</label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
